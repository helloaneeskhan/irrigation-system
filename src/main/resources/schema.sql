DROP TABLE IF EXISTS PLOT;
DROP TABLE IF EXISTS PLOT_AREA;
DROP TABLE IF EXISTS IRRIGATION_TIME_SLOT;


CREATE MEMORY TABLE "PUBLIC"."PLOT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "DESCRIPTION" CHARACTER VARYING(255),
    "PLOT_CODE" CHARACTER VARYING(255) NOT NULL,
    "REGISTRATION_DATE" TIMESTAMP,
    "PLOT_AREA_ID" BIGINT
);

CREATE MEMORY TABLE "PUBLIC"."PLOT_AREA"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,
    "AREA" NUMERIC(19, 2),
    "UNIT" INTEGER
);

CREATE MEMORY TABLE "PUBLIC"."IRRIGATION_TIME_SLOT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "IRRIGATION_ATTEMPT" BIGINT,
    "IRRIGATION_STATUS" INTEGER,
    "IRRIGATION_TIME" TIMESTAMP,
    "LAST_ATTEMPT_AT" TIMESTAMP,
    "PLOT_ID" BIGINT,
    "WATER_QUANTITY_ID" BIGINT
);

CREATE MEMORY TABLE "PUBLIC"."WATER_QUANTITY"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "QUANTITY" NUMERIC(19, 2),
    "WATER_UNIT" INTEGER
);

CREATE MEMORY TABLE "PUBLIC"."SENSOR_ALERT_STATUS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "ERROR_CODE" INTEGER,
    "ERROR_MESSAGE" CHARACTER VARYING(255),
    "LAST_RETRY" TIMESTAMP,
    "IRRIGATION_TIME_SLOT_ID" BIGINT
);